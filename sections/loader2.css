:root {
    --white: #ffffff;
    --shadow-color: rgba(255, 255, 255, 0.5);
    --bg-dark: #000;
}

@font-face {
    font-family: 'Methanerse';
    src: url('/fonts/methanerse.ttf') format('truetype');
}

.loader-main-container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100vw;
    height: 100vh;
    background-color: var(--bg-dark);
    overflow: hidden;
}

.space-loader {
    /* SCALING ENGINE: 
     Reduced by 30% from 2.875vmin
  */
    font-size: 2vmin;

    position: relative;
    width: 30em;
    height: 30em;
    background: radial-gradient(circle at center, #1a1a2e 0%, #0f0f1e 50%, #080810 100%);
    border-radius: 50%;
    border: 0.4em solid var(--white);

    /* Scaled Shadows - Transparency adjusted to 0.6 max */
    box-shadow:
        0 0 2em rgba(255, 255, 255, 0.4),
        0 0 4em rgba(255, 255, 255, 0.3),
        0 0 4em rgba(255, 255, 255, 0.1),
        inset 0 0 5em rgba(255, 255, 255, 0.1);
    overflow: hidden;
}

/* --- ROVER CONTAINER --- */
.rover {
    position: absolute;
    left: 50%;
    top: 45%;
    width: 8em;
    height: 6em;
    transform: translate(-50%, -50%);
    animation: float 4s ease-in-out infinite;
    z-index: 10;
    /* TASK 2: Increase size by another 10% (120% * 1.1 = 132%) */
    /* TASK 3: Reduce overall size by 5% (132% * 0.95 = 125.4%) */
    font-size: 125.4%;
}

/* --- CHASSIS (Gray Legs) --- */
.chassis-connector {
    position: absolute;
    background: #7f8c8d;
    /* Gray */
    border-radius: 0.1em;
    z-index: 15;
    /* Behind wheels, in front of body */
}

.leg-left {
    bottom: 1em;
    left: 1em;
    width: 0.5em;
    height: 2em;
    transform: rotate(15deg);
}

.leg-right {
    bottom: 1em;
    right: 1em;
    width: 0.5em;
    height: 2em;
    transform: rotate(-15deg);
}

.axle-bar {
    bottom: 1.8em;
    /* Moved up */
    left: 0.5em;
    width: 7em;
    height: 0.4em;
    background: #95a5a6;
    z-index: 14;
}

/* --- MAIN BODY --- */
.rover-body {
    position: absolute;
    top: 1.2em;
    left: 50%;
    transform: translateX(-50%);
    width: 5em;
    height: 2.5em;
    background: #ffffff;
    border-radius: 0.6em;
    box-shadow:
        inset -0.3em -0.3em 0.6em rgba(180, 180, 180, 0.2),
        0 0.3em 0.6em rgba(0, 0, 0, 0.3);
    z-index: 10;
    /* Behind chassis legs */
}

.rover-window {
    position: absolute;
    top: 0.5em;
    left: 50%;
    transform: translateX(-50%);
    width: 3em;
    height: 1em;
    background: #2d3436;
    border-radius: 0.3em;
    box-shadow: inset 0 0 0.1em #4cc9f0;
}

.rover-detail-stripe {
    position: absolute;
    bottom: 0.5em;
    left: 0.6em;
    width: 3.8em;
    height: 0.1em;
    background: #dfe6e9;
}

/* --- KILL SWITCH (Red Button) --- */
.rover-kill-switch {
    position: absolute;
    /* TASK 1: Repositioned further right and made into a tiny cylinder */
    top: 0.9em;
    /* TASK 4: Move 5px (approx 0.5em) to left. 
     Container width 8em. 65% = 5.2em. 
     Target 4.7em is approx 59%. */
    left: 59%;
    /* TASK 3: Make the button slightly fitter (increased width from 0.3em to 0.4em) */
    width: 0.4em;
    height: 0.5em;
    /* Taller for cylinder */
    background: linear-gradient(to right, #e74c3c, #c0392b);
    /* Gradient for cylinder definition */
    border-radius: 0.1em;
    /* Small radius for cylinder ends */
    /* Add top/bottom caps/shading for cylinder effect */
    box-shadow:
        0 0.1em 0.1em rgba(0, 0, 0, 0.3),
        /* shadow below */
        inset 0 0.1em 0.1em rgba(255, 255, 255, 0.3),
        /* highlight top */
        inset 0 -0.1em 0.1em rgba(0, 0, 0, 0.2);
    /* shading bottom */
    z-index: 12;
    /* Above body */
}

/* --- ROBOTIC ARM (Top Left) --- */
.rover-arm-group {
    position: absolute;
    top: 1.8em;
    /* Moved down */
    left: 1.5em;
    z-index: 5;
    transform-origin: bottom center;
    animation: arm-move 5s ease-in-out infinite;
}

.arm-joint {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0.8em;
    height: 0.8em;
    background: #95a5a6;
    border-radius: 50%;
    border: 0.1em solid #7f8c8d;
}

.arm-seg-1 {
    position: absolute;
    bottom: 0.3em;
    left: 0.2em;
    width: 0.4em;
    height: 2.2em;
    background: #bdc3c7;
    border-radius: 0.2em;
    transform: rotate(-30deg);
    transform-origin: bottom center;
}

.arm-seg-2 {
    position: absolute;
    top: -0.3em;
    left: 0;
    width: 0.3em;
    height: 1.8em;
    background: #bdc3c7;
    border-radius: 0.2em;
    transform: rotate(70deg);
    transform-origin: top center;
}

.arm-tool {
    position: absolute;
    bottom: -0.5em;
    left: -0.3em;
    width: 0.9em;
    height: 0.6em;
    background: #7f8c8d;
    border-radius: 0.1em;
}

/* --- TINY CAMERA ON ARM --- */
.arm-camera {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 0.4em;
    height: 0.4em;
    background: #2d3436;
    border-radius: 50%;
    border: 0.05em solid #ffffff;
    box-shadow: inset 0 0 0.1em #4cc9f0;
}

/* --- ANTENNA (Top Right) --- */
.rover-antenna-group {
    position: absolute;
    top: -1.2em;
    /* TASK 4: Move 10px (1em) to left. 
     Was 1.5em from right. Now 2.5em from right. */
    right: 2.5em;
    z-index: 5;
    animation: bounce 3s ease-in-out infinite;
}

.antenna-pole {
    width: 0.2em;
    height: 2.5em;
    background: #bdc3c7;
    border-radius: 0.1em;
}

.antenna-dish {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 1.2em;
    height: 0.6em;
    background: #ecf0f1;
    border-radius: 0 0 1.2em 1.2em;
    border-top: 0.1em solid #95a5a6;
}

.antenna-tip {
    position: absolute;
    top: -0.6em;
    left: 50%;
    transform: translateX(-50%);
    width: 0.06em;
    height: 0.6em;
    background: #95a5a6;
}

.antenna-tip::after {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 0.25em;
    height: 0.25em;
    background: #ff4757;
    border-radius: 50%;
    box-shadow: 0 0 0.3em #ff4757;
    animation: blink 1s infinite;
}

/* --- WHEELS (Gray Center, Thicker Cerulean Blue Ring) --- */
.rover-wheel {
    position: absolute;
    bottom: 0;
    width: 2.2em;
    height: 2.2em;
    background-color: #95a5a6;
    /* Gray Center */
    border-radius: 50%;
    border: 0.4em solid #007BA7;
    /* Thicker Cerulean Blue Ring */
    box-shadow: 0.2em 0.2em 0.5em rgba(0, 0, 0, 0.4);
    z-index: 20;
    /* Frontmost */

    /* Rod logs / Tread pattern - Modified for gray center */
    background-image:
        radial-gradient(circle at center, #7f8c8d 25%, transparent 26%),
        /* Hub */
        repeating-conic-gradient(from 0deg,
            rgba(255, 255, 255, 0.05) 0deg,
            rgba(255, 255, 255, 0.05) 10deg,
            transparent 10deg,
            transparent 20deg);
}

.wheel-fl {
    left: 0;
    bottom: 0.3em;
    transform: scale(1.1);
}

.wheel-br {
    right: 0;
    bottom: 0.3em;
    transform: scale(1.1);
}

/* --- ENVIRONMENT --- */
.stars-container {
    position: absolute;
    inset: 0;
    perspective: 100em;
}

.star {
    position: absolute;
    inset: 0;
    background-image: radial-gradient(0.1em 0.1em at var(--star-x, 50%) var(--star-y, 50%), white 100%, transparent);
    opacity: 0.8;
}

.star.near {
    animation: rotate 20s linear infinite;
    background-size: 20em 20em;
}

.star.mid {
    animation: rotate 30s linear infinite reverse;
    background-size: 15em 15em;
    opacity: 0.6;
}

.star.far {
    animation: rotate 40s linear infinite;
    background-size: 10em 10em;
    opacity: 0.4;
}

/* --- PLANETS --- */
.planet {
    position: absolute;
    border-radius: 50%;
}

.planet-1 {
    /* Red */
    width: 4em;
    height: 4em;
    background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
    bottom: 10em;
    left: 3em;
    box-shadow: inset -0.5em -0.5em 1em rgba(0, 0, 0, 0.3);
}

.planet-2 {
    /* Blue */
    width: 3em;
    height: 3em;
    background: linear-gradient(45deg, #4cc9f0, #4895ef);
    bottom: 2.5em;
    right: 5em;
    box-shadow: inset -0.3em -0.3em 0.6em rgba(0, 0, 0, 0.3);
    opacity: 0.8;
}

.planet-3 {
    /* Yellow Ringed */
    width: 3.5em;
    height: 3.5em;
    background: var(--primary);
    top: 3em;
    right: 3em;
    box-shadow: inset -0.4em -0.4em 0.8em rgba(0, 0, 0, 0.3);
    transform-style: preserve-3d;
}

.planet-ring {
    position: absolute;
    width: 6em;
    height: 1.2em;
    border: 0.3em solid rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    top: 50%;
    left: 50%;
    z-index: -1;
    transform: translate(-50%, -50%) rotate(-20deg);
    box-shadow: inset 0 0 0.5em rgba(255, 255, 255, 0.1);
}

/* --- ROCKS & METEORS --- */
.rock {
    position: absolute;
    background: #888;
    border-radius: 50%;
    box-shadow: inset -0.2em -0.2em 0.4em rgba(0, 0, 0, 0.4);
}

.rock1 {
    width: 1.8em;
    height: 1.8em;
    top: 25%;
    left: 25%;
    animation: rock-float 7s ease-in-out infinite;
}

.rock2 {
    width: 1.2em;
    height: 1.2em;
    top: 65%;
    right: 30%;
    animation: rock-float 6s ease-in-out infinite -2s;
}

.rock3 {
    width: 0.8em;
    height: 0.8em;
    top: 45%;
    right: 20%;
    animation: rock-float 5s ease-in-out infinite -1s;
}

.meteors {
    position: absolute;
    inset: 0;
}

.meteor {
    position: absolute;
    width: 0.2em;
    height: 0.2em;
    background: white;
    border-radius: 50%;
    filter: blur(0.1em);
}

.meteor::after {
    content: "";
    position: absolute;
    top: 50%;
    right: 0;
    width: 2em;
    height: 0.1em;
    background: linear-gradient(to left, white, transparent);
    transform: translateY(-50%);
}

.meteor-1 {
    animation: meteor-move 3s linear infinite;
    top: 20%;
    left: -20%;
}

.meteor-2 {
    animation: meteor-move 4s linear infinite 2s;
    top: 40%;
    left: -20%;
}

.meteor-3 {
    animation: meteor-move 5s linear infinite 1s;
    top: 60%;
    left: -20%;
}

/* --- LOADING UI --- */
.loading-container {
    position: absolute;
    bottom: 4em;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    text-align: center;
}

.loading-progress {
    width: 100%;
    height: 1em;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 0.5em;
    margin-bottom: 1.5em;
    overflow: hidden;
}

.progress-bar {
    /* width will be set via inline style */
    height: 100%;
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.8));
    border-radius: 0.5em;
    /* animation removed for real progress */
    transition: width 0.3s ease-out;
}

.loading-text {
    color: rgba(255, 255, 255, 0.9);
    font-family: 'Methanerse', monospace;
    font-size: 1.8em;
    letter-spacing: 0.15em;
    text-shadow: 0 0 1em rgba(255, 255, 255, 0.5);
    display: inline-block;
    animation: flicker 2s ease-in-out infinite;
}

/* --- KEYFRAMES --- */
@keyframes float {

    0%,
    100% {
        transform: translate(-50%, -50%) translateY(-1em) rotate(-2deg);
    }

    50% {
        transform: translate(-50%, -50%) translateY(1em) rotate(2deg);
    }
}

@keyframes arm-move {

    0%,
    100% {
        transform: rotate(0deg);
    }

    50% {
        transform: rotate(-10deg);
    }
}

@keyframes bounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-0.1em);
    }
}

@keyframes blink {

    0%,
    100% {
        opacity: 0.3;
    }

    50% {
        opacity: 1;
    }
}

@keyframes flicker {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

@keyframes rock-float {

    0%,
    100% {
        transform: translate(0, 0);
    }

    50% {
        transform: translate(0.5em, -0.5em);
    }
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

@keyframes meteor-move {
    0% {
        transform: translate(0, 0) rotate(45deg);
        opacity: 0;
    }

    20% {
        opacity: 1;
    }

    80% {
        opacity: 1;
    }

    100% {
        transform: translate(40em, 40em) rotate(45deg);
        opacity: 0;
    }
}